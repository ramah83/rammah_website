/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/iso/route";
exports.ids = ["app/api/iso/route"];
exports.modules = {

/***/ "(rsc)/./app/api/iso/route.ts":
/*!******************************!*\
  !*** ./app/api/iso/route.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   revalidate: () => (/* binding */ revalidate),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _lib_server_data_store_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/server/data-store-server */ \"(rsc)/./lib/server/data-store-server.ts\");\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nconst revalidate = 0;\n\n\n\nasync function getSession() {\n    try {\n        const jar = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)(); // ← استخدم await\n        const rawCookie = jar.get(\"session\")?.value;\n        const hdrs = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.headers)(); // ← استخدم await\n        const rawHeader = hdrs.get(\"x-session\");\n        const raw = rawCookie ?? rawHeader ?? null;\n        return raw ? JSON.parse(raw) : null;\n    } catch  {\n        return null;\n    }\n}\nasync function ensureRole(allowed) {\n    const s = await getSession();\n    if (!s) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: \"غير مصرح: لا توجد جلسة\"\n    }, {\n        status: 401\n    });\n    if (!allowed.includes(s.role)) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"ممنوع: الصلاحيات غير كافية\"\n        }, {\n            status: 403\n        });\n    }\n    return null;\n}\nasync function GET() {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json((0,_lib_server_data_store_server__WEBPACK_IMPORTED_MODULE_2__.listISO)());\n}\nasync function POST(req) {\n    const guard = await ensureRole([\n        \"systemAdmin\",\n        \"qualitySupervisor\"\n    ]);\n    if (guard) return guard;\n    const b = await req.json();\n    if (!b?.code || !b?.title || !b?.ownerEntityId) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"code/title/ownerEntityId مطلوبين\"\n        }, {\n            status: 400\n        });\n    }\n    const item = (0,_lib_server_data_store_server__WEBPACK_IMPORTED_MODULE_2__.addISO)({\n        code: String(b.code),\n        title: String(b.title),\n        status: b.status ?? \"draft\",\n        ownerEntityId: String(b.ownerEntityId)\n    });\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(item, {\n        status: 201\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2lzby9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFPLE1BQU1BLFVBQVUsU0FBUztBQUN6QixNQUFNQyxVQUFVLGdCQUFnQjtBQUNoQyxNQUFNQyxhQUFhLEVBQUU7QUFFZTtBQUNLO0FBQ2lCO0FBS2pFLGVBQWVNO0lBQ2IsSUFBSTtRQUNGLE1BQU1DLE1BQU0sTUFBTUwscURBQU9BLElBQXlCLGlCQUFpQjtRQUNuRSxNQUFNTSxZQUFZRCxJQUFJRSxHQUFHLENBQUMsWUFBWUM7UUFFdEMsTUFBTUMsT0FBTyxNQUFNUixxREFBT0EsSUFBd0IsaUJBQWlCO1FBQ25FLE1BQU1TLFlBQVlELEtBQUtGLEdBQUcsQ0FBQztRQUUzQixNQUFNSSxNQUFNTCxhQUFhSSxhQUFhO1FBQ3RDLE9BQU9DLE1BQU9DLEtBQUtDLEtBQUssQ0FBQ0YsT0FBbUI7SUFDOUMsRUFBRSxPQUFNO1FBQ04sT0FBTztJQUNUO0FBQ0Y7QUFFQSxlQUFlRyxXQUFXQyxPQUFtQjtJQUMzQyxNQUFNQyxJQUFJLE1BQU1aO0lBQ2hCLElBQUksQ0FBQ1ksR0FBRyxPQUFPakIscURBQVlBLENBQUNrQixJQUFJLENBQUM7UUFBRUMsT0FBTztJQUF5QixHQUFHO1FBQUVDLFFBQVE7SUFBSTtJQUNwRixJQUFJLENBQUNKLFFBQVFLLFFBQVEsQ0FBQ0osRUFBRUssSUFBSSxHQUFHO1FBQzdCLE9BQU90QixxREFBWUEsQ0FBQ2tCLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQTZCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ2xGO0lBQ0EsT0FBTztBQUNUO0FBRU8sZUFBZUc7SUFDcEIsT0FBT3ZCLHFEQUFZQSxDQUFDa0IsSUFBSSxDQUFDZixzRUFBT0E7QUFDbEM7QUFFTyxlQUFlcUIsS0FBS0MsR0FBWTtJQUNyQyxNQUFNQyxRQUFRLE1BQU1YLFdBQVc7UUFBQztRQUFlO0tBQW9CO0lBQ25FLElBQUlXLE9BQU8sT0FBT0E7SUFFbEIsTUFBTUMsSUFBSSxNQUFNRixJQUFJUCxJQUFJO0lBQ3hCLElBQUksQ0FBQ1MsR0FBR0MsUUFBUSxDQUFDRCxHQUFHRSxTQUFTLENBQUNGLEdBQUdHLGVBQWU7UUFDOUMsT0FBTzlCLHFEQUFZQSxDQUFDa0IsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBbUMsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDeEY7SUFFQSxNQUFNVyxPQUFPM0IscUVBQU1BLENBQUM7UUFDbEJ3QixNQUFNSSxPQUFPTCxFQUFFQyxJQUFJO1FBQ25CQyxPQUFPRyxPQUFPTCxFQUFFRSxLQUFLO1FBQ3JCVCxRQUFTTyxFQUFFUCxNQUFNLElBQUk7UUFDckJVLGVBQWVFLE9BQU9MLEVBQUVHLGFBQWE7SUFDdkM7SUFFQSxPQUFPOUIscURBQVlBLENBQUNrQixJQUFJLENBQUNhLE1BQU07UUFBRVgsUUFBUTtJQUFJO0FBQy9DIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFJhbW1haFxcT25lRHJpdmVcXERlc2t0b3BcXFNQQUNFXFx5b3V0aC1wbGF0Zm9ybVxcYXBwXFxhcGlcXGlzb1xccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHJ1bnRpbWUgPSBcIm5vZGVqc1wiO1xyXG5leHBvcnQgY29uc3QgZHluYW1pYyA9IFwiZm9yY2UtZHluYW1pY1wiO1xyXG5leHBvcnQgY29uc3QgcmV2YWxpZGF0ZSA9IDA7XHJcblxyXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgY29va2llcywgaGVhZGVycyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIjtcclxuaW1wb3J0IHsgbGlzdElTTywgYWRkSVNPIH0gZnJvbSBcIkAvbGliL3NlcnZlci9kYXRhLXN0b3JlLXNlcnZlclwiO1xyXG5cclxudHlwZSBVc2VyUm9sZSA9IFwic3lzdGVtQWRtaW5cIiB8IFwicXVhbGl0eVN1cGVydmlzb3JcIiB8IFwiZW50aXR5TWFuYWdlclwiIHwgXCJ5b3V0aFwiO1xyXG50eXBlIFNlc3Npb24gPSB7IGlkOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgcm9sZTogVXNlclJvbGU7IGVudGl0eUlkPzogc3RyaW5nIHwgbnVsbCB9O1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0U2Vzc2lvbigpOiBQcm9taXNlPFNlc3Npb24gfCBudWxsPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGphciA9IGF3YWl0IGNvb2tpZXMoKTsgICAgICAgICAgICAgICAgICAgICAgLy8g4oaQINin2LPYqtiu2K/ZhSBhd2FpdFxyXG4gICAgY29uc3QgcmF3Q29va2llID0gamFyLmdldChcInNlc3Npb25cIik/LnZhbHVlO1xyXG5cclxuICAgIGNvbnN0IGhkcnMgPSBhd2FpdCBoZWFkZXJzKCk7ICAgICAgICAgICAgICAgICAgICAgLy8g4oaQINin2LPYqtiu2K/ZhSBhd2FpdFxyXG4gICAgY29uc3QgcmF3SGVhZGVyID0gaGRycy5nZXQoXCJ4LXNlc3Npb25cIik7XHJcblxyXG4gICAgY29uc3QgcmF3ID0gcmF3Q29va2llID8/IHJhd0hlYWRlciA/PyBudWxsO1xyXG4gICAgcmV0dXJuIHJhdyA/IChKU09OLnBhcnNlKHJhdykgYXMgU2Vzc2lvbikgOiBudWxsO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBlbnN1cmVSb2xlKGFsbG93ZWQ6IFVzZXJSb2xlW10pIHtcclxuICBjb25zdCBzID0gYXdhaXQgZ2V0U2Vzc2lvbigpO1xyXG4gIGlmICghcykgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwi2LrZitixINmF2LXYsditOiDZhNinINiq2YjYrNivINis2YTYs9ipXCIgfSwgeyBzdGF0dXM6IDQwMSB9KTtcclxuICBpZiAoIWFsbG93ZWQuaW5jbHVkZXMocy5yb2xlKSkge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwi2YXZhdmG2YjYuTog2KfZhNi12YTYp9it2YrYp9iqINi62YrYsSDZg9in2YHZitipXCIgfSwgeyBzdGF0dXM6IDQwMyB9KTtcclxuICB9XHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XHJcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGxpc3RJU08oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xyXG4gIGNvbnN0IGd1YXJkID0gYXdhaXQgZW5zdXJlUm9sZShbXCJzeXN0ZW1BZG1pblwiLCBcInF1YWxpdHlTdXBlcnZpc29yXCJdKTtcclxuICBpZiAoZ3VhcmQpIHJldHVybiBndWFyZDtcclxuXHJcbiAgY29uc3QgYiA9IGF3YWl0IHJlcS5qc29uKCk7XHJcbiAgaWYgKCFiPy5jb2RlIHx8ICFiPy50aXRsZSB8fCAhYj8ub3duZXJFbnRpdHlJZCkge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiY29kZS90aXRsZS9vd25lckVudGl0eUlkINmF2LfZhNmI2KjZitmGXCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGl0ZW0gPSBhZGRJU08oe1xyXG4gICAgY29kZTogU3RyaW5nKGIuY29kZSksXHJcbiAgICB0aXRsZTogU3RyaW5nKGIudGl0bGUpLFxyXG4gICAgc3RhdHVzOiAoYi5zdGF0dXMgPz8gXCJkcmFmdFwiKSBhcyBcImRyYWZ0XCIgfCBcInN1Ym1pdHRlZFwiIHwgXCJyZXZpZXdcIiB8IFwiYXBwcm92ZWRcIiB8IFwicmVqZWN0ZWRcIixcclxuICAgIG93bmVyRW50aXR5SWQ6IFN0cmluZyhiLm93bmVyRW50aXR5SWQpLFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oaXRlbSwgeyBzdGF0dXM6IDIwMSB9KTtcclxufVxyXG4iXSwibmFtZXMiOlsicnVudGltZSIsImR5bmFtaWMiLCJyZXZhbGlkYXRlIiwiTmV4dFJlc3BvbnNlIiwiY29va2llcyIsImhlYWRlcnMiLCJsaXN0SVNPIiwiYWRkSVNPIiwiZ2V0U2Vzc2lvbiIsImphciIsInJhd0Nvb2tpZSIsImdldCIsInZhbHVlIiwiaGRycyIsInJhd0hlYWRlciIsInJhdyIsIkpTT04iLCJwYXJzZSIsImVuc3VyZVJvbGUiLCJhbGxvd2VkIiwicyIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImluY2x1ZGVzIiwicm9sZSIsIkdFVCIsIlBPU1QiLCJyZXEiLCJndWFyZCIsImIiLCJjb2RlIiwidGl0bGUiLCJvd25lckVudGl0eUlkIiwiaXRlbSIsIlN0cmluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/iso/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/server/data-store-server.ts":
/*!*****************************************!*\
  !*** ./lib/server/data-store-server.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addEntity: () => (/* binding */ addEntity),\n/* harmony export */   addEvent: () => (/* binding */ addEvent),\n/* harmony export */   addGovernance: () => (/* binding */ addGovernance),\n/* harmony export */   addISO: () => (/* binding */ addISO),\n/* harmony export */   addMember: () => (/* binding */ addMember),\n/* harmony export */   dataStore: () => (/* binding */ dataStore),\n/* harmony export */   deleteMember: () => (/* binding */ deleteMember),\n/* harmony export */   getEntity: () => (/* binding */ getEntity),\n/* harmony export */   getEvent: () => (/* binding */ getEvent),\n/* harmony export */   getUsers: () => (/* binding */ getUsers),\n/* harmony export */   listEntities: () => (/* binding */ listEntities),\n/* harmony export */   listEvents: () => (/* binding */ listEvents),\n/* harmony export */   listGovernance: () => (/* binding */ listGovernance),\n/* harmony export */   listISO: () => (/* binding */ listISO),\n/* harmony export */   listMembers: () => (/* binding */ listMembers),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   register: () => (/* binding */ register),\n/* harmony export */   removeEntity: () => (/* binding */ removeEntity),\n/* harmony export */   removeEvent: () => (/* binding */ removeEvent),\n/* harmony export */   resetAll: () => (/* binding */ resetAll),\n/* harmony export */   updateEntity: () => (/* binding */ updateEntity),\n/* harmony export */   updateEvent: () => (/* binding */ updateEvent),\n/* harmony export */   updateMember: () => (/* binding */ updateMember)\n/* harmony export */ });\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! server-only */ \"(rsc)/./node_modules/next/dist/compiled/server-only/empty.js\");\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(server_only__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sqlite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sqlite */ \"(rsc)/./lib/server/sqlite.ts\");\n\n\nconst J = (v)=>JSON.stringify(v ?? null);\nconst P = (s)=>{\n    try {\n        return JSON.parse(s ?? \"null\");\n    } catch  {\n        return null;\n    }\n};\n(0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.ensureTables)();\n/** USERS */ function getUsers() {\n    const rows = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`SELECT * FROM users`).all();\n    return rows.map((r)=>({\n            ...r,\n            interests: P(r.interests),\n            permissions: P(r.permissions)\n        }));\n}\nfunction register(u) {\n    const db = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)();\n    const exists = db.prepare(`SELECT 1 FROM users WHERE email = ?`).get(u.email);\n    if (exists) return null;\n    const id = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.uid)();\n    db.prepare(`\n    INSERT INTO users (id, name, email, password, role, interests, entityId, permissions)\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n  `).run(id, u.name, u.email, u.password ?? null, u.role, J(u.interests), u.entityId ?? null, J(u.permissions));\n    return {\n        id,\n        ...u\n    };\n}\nfunction login(email, password) {\n    const r = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`SELECT * FROM users WHERE email = ? AND password = ?`).get(email, password);\n    if (!r) return null;\n    return {\n        ...r,\n        interests: P(r.interests),\n        permissions: P(r.permissions)\n    };\n}\n/** ENTITIES */ function getEntity(id) {\n    const row = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`SELECT * FROM entities WHERE id=?`).get(id);\n    if (!row) return null;\n    return {\n        ...row,\n        documents: P(row.documents)\n    };\n}\nfunction listEntities() {\n    const rows = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`SELECT * FROM entities ORDER BY datetime(createdAt) DESC`).all();\n    return rows.map((r)=>({\n            ...r,\n            documents: P(r.documents)\n        }));\n}\nfunction addEntity(data) {\n    const id = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.uid)();\n    const createdAt = new Date().toISOString();\n    (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`\n    INSERT INTO entities (id, name, type, contactEmail, phone, location, documents, createdAt, createdBy)\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n  `).run(id, data.name, data.type ?? null, data.contactEmail ?? null, data.phone ?? null, data.location ?? null, J(data.documents), createdAt, data.createdBy ?? null);\n    return {\n        id,\n        ...data,\n        createdAt\n    };\n}\nfunction updateEntity(id, patch) {\n    const db = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)();\n    const row = db.prepare(`SELECT * FROM entities WHERE id = ?`).get(id);\n    if (!row) return null;\n    const name = patch.name ?? row.name;\n    const type = patch.type ?? row.type;\n    const contactEmail = patch.contactEmail ?? row.contactEmail;\n    const phone = patch.phone ?? row.phone;\n    const location = patch.location ?? row.location;\n    const documents = J(patch.documents ?? (row.documents ? JSON.parse(row.documents) : []));\n    db.prepare(`\n    UPDATE entities\n       SET name=?, type=?, contactEmail=?, phone=?, location=?, documents=?\n     WHERE id=?\n  `).run(name, type ?? null, contactEmail ?? null, phone ?? null, location ?? null, documents, id);\n    const after = db.prepare(`SELECT * FROM entities WHERE id=?`).get(id);\n    return {\n        ...after,\n        documents: P(after.documents)\n    };\n}\nfunction removeEntity(id) {\n    const db = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)();\n    db.prepare(`DELETE FROM entities WHERE id=?`).run(id);\n    return {\n        ok: true\n    };\n}\n/** MEMBERS */ function listMembers() {\n    return (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`SELECT * FROM members`).all();\n}\nfunction addMember(data) {\n    const id = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.uid)();\n    const joinedAt = new Date().toISOString();\n    (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`\n    INSERT INTO members (id, name, email, phone, entityId, roleInEntity, joinedAt)\n    VALUES (?, ?, ?, ?, ?, ?, ?)\n  `).run(id, data.name, data.email ?? null, data.phone ?? null, data.entityId ?? null, data.roleInEntity ?? null, joinedAt);\n    return {\n        id,\n        ...data,\n        joinedAt\n    };\n}\nfunction updateMember(id, patch) {\n    const db = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)();\n    const row = db.prepare(`SELECT * FROM members WHERE id = ?`).get(id);\n    if (!row) return null;\n    const name = patch.name ?? row.name;\n    const email = patch.email ?? row.email;\n    const phone = patch.phone ?? row.phone;\n    const entityId = patch.entityId ?? row.entityId ?? null;\n    const roleInEntity = patch.roleInEntity ?? row.roleInEntity ?? null;\n    db.prepare(`UPDATE members SET name=?, email=?, phone=?, entityId=?, roleInEntity=? WHERE id=?`).run(name, email ?? null, phone ?? null, entityId, roleInEntity, id);\n    return db.prepare(`SELECT * FROM members WHERE id=?`).get(id);\n}\nfunction deleteMember(id) {\n    (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`DELETE FROM members WHERE id = ?`).run(id);\n    return {\n        ok: true\n    };\n}\n/** GOVERNANCE */ function listGovernance() {\n    const rows = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`SELECT * FROM governance ORDER BY datetime(createdAt) DESC`).all();\n    return rows.map((r)=>{\n        const meta = r.meta ? JSON.parse(r.meta) : {};\n        return {\n            id: r.id,\n            title: r.title,\n            type: r.type,\n            status: r.status ?? \"draft\",\n            entityId: r.entityId ?? null,\n            createdAt: r.createdAt,\n            updatedAt: r.updatedAt,\n            notes: r.description ?? null,\n            decisionDate: meta.decisionDate ?? null,\n            attachments: meta.attachments ?? []\n        };\n    });\n}\nfunction addGovernance(input) {\n    const db = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)();\n    const id = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.uid)();\n    const now = new Date().toISOString();\n    const meta = JSON.stringify({\n        decisionDate: input.decisionDate ?? null,\n        attachments: input.attachments ?? []\n    });\n    db.prepare(`\n    INSERT INTO governance (id, type, title, description, entityId, status, meta, createdAt, updatedAt)\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n  `).run(id, input.type, input.title, input.notes ?? null, input.entityId ?? null, input.status ?? \"draft\", meta, now, now);\n    return {\n        id,\n        title: input.title,\n        type: input.type,\n        status: input.status ?? \"draft\",\n        entityId: input.entityId ?? null,\n        createdAt: now,\n        updatedAt: now,\n        notes: input.notes ?? null,\n        decisionDate: input.decisionDate ?? null,\n        attachments: input.attachments ?? []\n    };\n}\n/** EVENTS */ function listEvents() {\n    // تجاهل عمود date تمامًا\n    const rows = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`\n      SELECT id, title, status, entityId\n      FROM events\n      ORDER BY rowid DESC\n    `).all();\n    return rows.map((r)=>({\n            id: String(r.id),\n            title: String(r.title || \"\"),\n            status: r.status ?? \"draft\",\n            entityId: r.entityId ? String(r.entityId) : null\n        }));\n}\nfunction getEvent(id) {\n    const row = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`SELECT id, title, status, entityId FROM events WHERE id = ?`).get(id);\n    if (!row) return null;\n    return {\n        id: String(row.id),\n        title: String(row.title || \"\"),\n        status: row.status ?? \"draft\",\n        entityId: row.entityId ? String(row.entityId) : null\n    };\n}\nfunction addEvent(data) {\n    const id = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.uid)();\n    (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`INSERT INTO events (id, title, status, entityId) VALUES (?, ?, ?, ?)`).run(id, String(data.title || \"\"), String(data.status || \"draft\"), data.entityId ? String(data.entityId) : null);\n    return getEvent(id);\n}\nfunction updateEvent(id, patch) {\n    const db = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)();\n    const cur = db.prepare(`SELECT * FROM events WHERE id=?`).get(id);\n    if (!cur) return null;\n    const next = {\n        title: typeof patch.title === \"string\" ? patch.title : cur.title,\n        status: typeof patch.status === \"string\" ? patch.status : cur.status,\n        entityId: patch.hasOwnProperty(\"entityId\") ? patch.entityId ? String(patch.entityId) : null : cur.entityId\n    };\n    db.prepare(`UPDATE events SET title=?, status=?, entityId=? WHERE id=?`).run(String(next.title || \"\"), String(next.status || \"draft\"), next.entityId, id);\n    return getEvent(id);\n}\nfunction removeEvent(id) {\n    (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`DELETE FROM events WHERE id=?`).run(id);\n    return {\n        ok: true\n    };\n}\n/** ISO */ function listISO() {\n    return (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`SELECT * FROM iso`).all();\n}\nfunction addISO(data) {\n    const id = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.uid)();\n    (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)().prepare(`INSERT INTO iso (id, title, code, status, ownerEntityId) VALUES (?, ?, ?, ?, ?)`).run(id, data.title, data.code ?? null, data.status, data.ownerEntityId ?? null);\n    return {\n        id,\n        ...data\n    };\n}\n/** RESET */ function resetAll() {\n    const db = (0,_sqlite__WEBPACK_IMPORTED_MODULE_1__.getDB)();\n    db.exec(`DELETE FROM users; DELETE FROM entities; DELETE FROM members; DELETE FROM events; DELETE FROM iso; DELETE FROM governance;`);\n}\nconst dataStore = {\n    getUsers,\n    register,\n    login,\n    listEntities,\n    getEntity,\n    addEntity,\n    updateEntity,\n    removeEntity,\n    listMembers,\n    addMember,\n    updateMember,\n    deleteMember,\n    listGovernance,\n    addGovernance,\n    listEvents,\n    getEvent,\n    addEvent,\n    updateEvent,\n    removeEvent,\n    listISO,\n    addISO,\n    resetAll\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ1RHO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxSYW1tYWhcXE9uZURyaXZlXFxEZXNrdG9wXFxTUEFDRVxceW91dGgtcGxhdGZvcm1cXGxpYlxcc2VydmVyXFxkYXRhLXN0b3JlLXNlcnZlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJzZXJ2ZXItb25seVwiO1xyXG5pbXBvcnQgeyBnZXREQiwgdWlkLCBlbnN1cmVUYWJsZXMgfSBmcm9tIFwiLi9zcWxpdGVcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFVzZXJSb2xlID0gXCJzeXN0ZW1BZG1pblwiIHwgXCJxdWFsaXR5U3VwZXJ2aXNvclwiIHwgXCJlbnRpdHlNYW5hZ2VyXCIgfCBcInlvdXRoXCI7XHJcbmV4cG9ydCB0eXBlIEdvdmVybmFuY2VUeXBlID0gXCJwb2xpY3lcIiB8IFwicHJvY2VkdXJlXCIgfCBcIm1pbnV0ZXNcIiB8IFwiZGVjaXNpb25cIiB8IFwiaW5xdWlyeVwiIHwgXCJyZXNwb25zZVwiO1xyXG5leHBvcnQgdHlwZSBHb3Zlcm5hbmNlU3RhdHVzID0gXCJkcmFmdFwiIHwgXCJyZXZpZXdcIiB8IFwiYXBwcm92ZWRcIiB8IFwiYXJjaGl2ZWRcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFVzZXIgPSB7XHJcbiAgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBlbWFpbDogc3RyaW5nOyBwYXNzd29yZD86IHN0cmluZzsgcm9sZTogVXNlclJvbGU7XHJcbiAgaW50ZXJlc3RzPzogc3RyaW5nW107IGVudGl0eUlkPzogc3RyaW5nIHwgbnVsbDsgcGVybWlzc2lvbnM/OiBzdHJpbmdbXTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIEdvdmVybmFuY2VJdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IHR5cGU6IEdvdmVybmFuY2VUeXBlOyBzdGF0dXM6IEdvdmVybmFuY2VTdGF0dXM7XHJcbiAgZW50aXR5SWQ/OiBzdHJpbmcgfCBudWxsOyBjcmVhdGVkQXQ6IHN0cmluZzsgdXBkYXRlZEF0OiBzdHJpbmc7XHJcbiAgbm90ZXM/OiBzdHJpbmcgfCBudWxsOyBkZWNpc2lvbkRhdGU/OiBzdHJpbmcgfCBudWxsOyBhdHRhY2htZW50cz86IHN0cmluZ1tdO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgRW50aXR5ID0ge1xyXG4gIGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgdHlwZT86IHN0cmluZzsgY29udGFjdEVtYWlsPzogc3RyaW5nOyBwaG9uZT86IHN0cmluZztcclxuICBsb2NhdGlvbj86IHN0cmluZzsgZG9jdW1lbnRzPzogc3RyaW5nW107IGNyZWF0ZWRBdDogc3RyaW5nOyBjcmVhdGVkQnk/OiBzdHJpbmcgfCBudWxsO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgTWVtYmVyID0ge1xyXG4gIGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgZW1haWw/OiBzdHJpbmc7IHBob25lPzogc3RyaW5nO1xyXG4gIGVudGl0eUlkPzogc3RyaW5nIHwgbnVsbDsgcm9sZUluRW50aXR5Pzogc3RyaW5nIHwgbnVsbDsgam9pbmVkQXQ6IHN0cmluZztcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIEV2ZW50SXRlbSA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgc3RhdHVzOiBcImRyYWZ0XCIgfCBcImFwcHJvdmVkXCIgfCBcImNhbmNlbGxlZFwiIHwgXCJkb25lXCI7XHJcbiAgZW50aXR5SWQ/OiBzdHJpbmcgfCBudWxsO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgSVNPRm9ybSA9IHtcclxuICBpZDogc3RyaW5nOyB0aXRsZTogc3RyaW5nOyBjb2RlPzogc3RyaW5nO1xyXG4gIHN0YXR1czogXCJkcmFmdFwiIHwgXCJzdWJtaXR0ZWRcIiB8IFwicmV2aWV3XCIgfCBcImFwcHJvdmVkXCIgfCBcInJlamVjdGVkXCI7XHJcbiAgb3duZXJFbnRpdHlJZD86IHN0cmluZyB8IG51bGw7XHJcbn07XHJcblxyXG5jb25zdCBKID0gKHY6IGFueSkgPT4gSlNPTi5zdHJpbmdpZnkodiA/PyBudWxsKTtcclxuY29uc3QgUCA9IDxUID0gYW55PihzOiBhbnkpID0+IHsgdHJ5IHsgcmV0dXJuIEpTT04ucGFyc2UocyA/PyBcIm51bGxcIikgYXMgVCB9IGNhdGNoIHsgcmV0dXJuIG51bGwgYXMgYW55IH0gfTtcclxuXHJcbmVuc3VyZVRhYmxlcygpO1xyXG5cclxuLyoqIFVTRVJTICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VycygpIHtcclxuICBjb25zdCByb3dzID0gZ2V0REIoKS5wcmVwYXJlKGBTRUxFQ1QgKiBGUk9NIHVzZXJzYCkuYWxsKCk7XHJcbiAgcmV0dXJuIHJvd3MubWFwKChyOiBhbnkpID0+ICh7IC4uLnIsIGludGVyZXN0czogUDxzdHJpbmdbXT4oci5pbnRlcmVzdHMpLCBwZXJtaXNzaW9uczogUDxzdHJpbmdbXT4oci5wZXJtaXNzaW9ucykgfSkpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlcih1OiBPbWl0PFVzZXIsIFwiaWRcIj4pIHtcclxuICBjb25zdCBkYiA9IGdldERCKCk7XHJcbiAgY29uc3QgZXhpc3RzID0gZGIucHJlcGFyZShgU0VMRUNUIDEgRlJPTSB1c2VycyBXSEVSRSBlbWFpbCA9ID9gKS5nZXQodS5lbWFpbCk7XHJcbiAgaWYgKGV4aXN0cykgcmV0dXJuIG51bGw7XHJcbiAgY29uc3QgaWQgPSB1aWQoKTtcclxuICBkYi5wcmVwYXJlKGBcclxuICAgIElOU0VSVCBJTlRPIHVzZXJzIChpZCwgbmFtZSwgZW1haWwsIHBhc3N3b3JkLCByb2xlLCBpbnRlcmVzdHMsIGVudGl0eUlkLCBwZXJtaXNzaW9ucylcclxuICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPylcclxuICBgKS5ydW4oaWQsIHUubmFtZSwgdS5lbWFpbCwgdS5wYXNzd29yZCA/PyBudWxsLCB1LnJvbGUsIEoodS5pbnRlcmVzdHMpLCB1LmVudGl0eUlkID8/IG51bGwsIEoodS5wZXJtaXNzaW9ucykpO1xyXG4gIHJldHVybiB7IGlkLCAuLi51IH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGxvZ2luKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpIHtcclxuICBjb25zdCByOiBhbnkgPSBnZXREQigpLnByZXBhcmUoYFNFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSA/IEFORCBwYXNzd29yZCA9ID9gKS5nZXQoZW1haWwsIHBhc3N3b3JkKTtcclxuICBpZiAoIXIpIHJldHVybiBudWxsO1xyXG4gIHJldHVybiB7IC4uLnIsIGludGVyZXN0czogUDxzdHJpbmdbXT4oci5pbnRlcmVzdHMpLCBwZXJtaXNzaW9uczogUDxzdHJpbmdbXT4oci5wZXJtaXNzaW9ucykgfSBhcyBVc2VyO1xyXG59XHJcblxyXG4vKiogRU5USVRJRVMgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVudGl0eShpZDogc3RyaW5nKTogRW50aXR5IHwgbnVsbCB7XHJcbiAgY29uc3Qgcm93OiBhbnkgPSBnZXREQigpLnByZXBhcmUoYFNFTEVDVCAqIEZST00gZW50aXRpZXMgV0hFUkUgaWQ9P2ApLmdldChpZCk7XHJcbiAgaWYgKCFyb3cpIHJldHVybiBudWxsO1xyXG4gIHJldHVybiB7IC4uLnJvdywgZG9jdW1lbnRzOiBQPHN0cmluZ1tdPihyb3cuZG9jdW1lbnRzKSB9IGFzIEVudGl0eTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbGlzdEVudGl0aWVzKCk6IEVudGl0eVtdIHtcclxuICBjb25zdCByb3dzID0gZ2V0REIoKS5wcmVwYXJlKGBTRUxFQ1QgKiBGUk9NIGVudGl0aWVzIE9SREVSIEJZIGRhdGV0aW1lKGNyZWF0ZWRBdCkgREVTQ2ApLmFsbCgpO1xyXG4gIHJldHVybiByb3dzLm1hcCgocjogYW55KSA9PiAoeyAuLi5yLCBkb2N1bWVudHM6IFA8c3RyaW5nW10+KHIuZG9jdW1lbnRzKSB9KSkgYXMgRW50aXR5W107XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVudGl0eShkYXRhOiBPbWl0PEVudGl0eSwgXCJpZFwiIHwgXCJjcmVhdGVkQXRcIiB8IFwiY3JlYXRlZEJ5XCI+ICYgeyBjcmVhdGVkQnk/OiBzdHJpbmcgfCBudWxsIH0pIHtcclxuICBjb25zdCBpZCA9IHVpZCgpOyBjb25zdCBjcmVhdGVkQXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgZ2V0REIoKS5wcmVwYXJlKGBcclxuICAgIElOU0VSVCBJTlRPIGVudGl0aWVzIChpZCwgbmFtZSwgdHlwZSwgY29udGFjdEVtYWlsLCBwaG9uZSwgbG9jYXRpb24sIGRvY3VtZW50cywgY3JlYXRlZEF0LCBjcmVhdGVkQnkpXHJcbiAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8pXHJcbiAgYCkucnVuKGlkLCBkYXRhLm5hbWUsIGRhdGEudHlwZSA/PyBudWxsLCBkYXRhLmNvbnRhY3RFbWFpbCA/PyBudWxsLCBkYXRhLnBob25lID8/IG51bGwsIGRhdGEubG9jYXRpb24gPz8gbnVsbCwgSihkYXRhLmRvY3VtZW50cyksIGNyZWF0ZWRBdCwgZGF0YS5jcmVhdGVkQnkgPz8gbnVsbCk7XHJcbiAgcmV0dXJuIHsgaWQsIC4uLmRhdGEsIGNyZWF0ZWRBdCB9IGFzIEVudGl0eTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRW50aXR5KGlkOiBzdHJpbmcsIHBhdGNoOiBQYXJ0aWFsPE9taXQ8RW50aXR5LCBcImlkXCIgfCBcImNyZWF0ZWRBdFwiPj4pIHtcclxuICBjb25zdCBkYiA9IGdldERCKCk7XHJcbiAgY29uc3Qgcm93OiBhbnkgPSBkYi5wcmVwYXJlKGBTRUxFQ1QgKiBGUk9NIGVudGl0aWVzIFdIRVJFIGlkID0gP2ApLmdldChpZCk7XHJcbiAgaWYgKCFyb3cpIHJldHVybiBudWxsO1xyXG4gIGNvbnN0IG5hbWUgPSBwYXRjaC5uYW1lID8/IHJvdy5uYW1lO1xyXG4gIGNvbnN0IHR5cGUgPSBwYXRjaC50eXBlID8/IHJvdy50eXBlO1xyXG4gIGNvbnN0IGNvbnRhY3RFbWFpbCA9IHBhdGNoLmNvbnRhY3RFbWFpbCA/PyByb3cuY29udGFjdEVtYWlsO1xyXG4gIGNvbnN0IHBob25lID0gcGF0Y2gucGhvbmUgPz8gcm93LnBob25lO1xyXG4gIGNvbnN0IGxvY2F0aW9uID0gcGF0Y2gubG9jYXRpb24gPz8gcm93LmxvY2F0aW9uO1xyXG4gIGNvbnN0IGRvY3VtZW50cyA9IEoocGF0Y2guZG9jdW1lbnRzID8/IChyb3cuZG9jdW1lbnRzID8gSlNPTi5wYXJzZShyb3cuZG9jdW1lbnRzKSA6IFtdKSk7XHJcbiAgZGIucHJlcGFyZShgXHJcbiAgICBVUERBVEUgZW50aXRpZXNcclxuICAgICAgIFNFVCBuYW1lPT8sIHR5cGU9PywgY29udGFjdEVtYWlsPT8sIHBob25lPT8sIGxvY2F0aW9uPT8sIGRvY3VtZW50cz0/XHJcbiAgICAgV0hFUkUgaWQ9P1xyXG4gIGApLnJ1bihuYW1lLCB0eXBlID8/IG51bGwsIGNvbnRhY3RFbWFpbCA/PyBudWxsLCBwaG9uZSA/PyBudWxsLCBsb2NhdGlvbiA/PyBudWxsLCBkb2N1bWVudHMsIGlkKTtcclxuICBjb25zdCBhZnRlcjogYW55ID0gZGIucHJlcGFyZShgU0VMRUNUICogRlJPTSBlbnRpdGllcyBXSEVSRSBpZD0/YCkuZ2V0KGlkKTtcclxuICByZXR1cm4geyAuLi5hZnRlciwgZG9jdW1lbnRzOiBQPHN0cmluZ1tdPihhZnRlci5kb2N1bWVudHMpIH0gYXMgRW50aXR5O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFbnRpdHkoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGRiID0gZ2V0REIoKTtcclxuICBkYi5wcmVwYXJlKGBERUxFVEUgRlJPTSBlbnRpdGllcyBXSEVSRSBpZD0/YCkucnVuKGlkKTtcclxuICByZXR1cm4geyBvazogdHJ1ZSB9O1xyXG59XHJcblxyXG4vKiogTUVNQkVSUyAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbGlzdE1lbWJlcnMoKSB7IHJldHVybiBnZXREQigpLnByZXBhcmUoYFNFTEVDVCAqIEZST00gbWVtYmVyc2ApLmFsbCgpIGFzIE1lbWJlcltdOyB9XHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRNZW1iZXIoZGF0YTogT21pdDxNZW1iZXIsIFwiaWRcIiB8IFwiam9pbmVkQXRcIj4pIHtcclxuICBjb25zdCBpZCA9IHVpZCgpOyBjb25zdCBqb2luZWRBdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICBnZXREQigpLnByZXBhcmUoYFxyXG4gICAgSU5TRVJUIElOVE8gbWVtYmVycyAoaWQsIG5hbWUsIGVtYWlsLCBwaG9uZSwgZW50aXR5SWQsIHJvbGVJbkVudGl0eSwgam9pbmVkQXQpXHJcbiAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8pXHJcbiAgYCkucnVuKGlkLCBkYXRhLm5hbWUsIGRhdGEuZW1haWwgPz8gbnVsbCwgZGF0YS5waG9uZSA/PyBudWxsLCBkYXRhLmVudGl0eUlkID8/IG51bGwsIGRhdGEucm9sZUluRW50aXR5ID8/IG51bGwsIGpvaW5lZEF0KTtcclxuICByZXR1cm4geyBpZCwgLi4uZGF0YSwgam9pbmVkQXQgfSBhcyBNZW1iZXI7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU1lbWJlcihpZDogc3RyaW5nLCBwYXRjaDogUGFydGlhbDxPbWl0PE1lbWJlciwgXCJpZFwiIHwgXCJqb2luZWRBdFwiPj4pIHtcclxuICBjb25zdCBkYiA9IGdldERCKCk7XHJcbiAgY29uc3Qgcm93OiBhbnkgPSBkYi5wcmVwYXJlKGBTRUxFQ1QgKiBGUk9NIG1lbWJlcnMgV0hFUkUgaWQgPSA/YCkuZ2V0KGlkKTtcclxuICBpZiAoIXJvdykgcmV0dXJuIG51bGw7XHJcbiAgY29uc3QgbmFtZSA9IHBhdGNoLm5hbWUgPz8gcm93Lm5hbWU7XHJcbiAgY29uc3QgZW1haWwgPSBwYXRjaC5lbWFpbCA/PyByb3cuZW1haWw7XHJcbiAgY29uc3QgcGhvbmUgPSBwYXRjaC5waG9uZSA/PyByb3cucGhvbmU7XHJcbiAgY29uc3QgZW50aXR5SWQgPSAocGF0Y2guZW50aXR5SWQgPz8gcm93LmVudGl0eUlkKSA/PyBudWxsO1xyXG4gIGNvbnN0IHJvbGVJbkVudGl0eSA9IChwYXRjaC5yb2xlSW5FbnRpdHkgPz8gcm93LnJvbGVJbkVudGl0eSkgPz8gbnVsbDtcclxuICBkYi5wcmVwYXJlKGBVUERBVEUgbWVtYmVycyBTRVQgbmFtZT0/LCBlbWFpbD0/LCBwaG9uZT0/LCBlbnRpdHlJZD0/LCByb2xlSW5FbnRpdHk9PyBXSEVSRSBpZD0/YCkucnVuKG5hbWUsIGVtYWlsID8/IG51bGwsIHBob25lID8/IG51bGwsIGVudGl0eUlkLCByb2xlSW5FbnRpdHksIGlkKTtcclxuICByZXR1cm4gZGIucHJlcGFyZShgU0VMRUNUICogRlJPTSBtZW1iZXJzIFdIRVJFIGlkPT9gKS5nZXQoaWQpIGFzIE1lbWJlcjtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlTWVtYmVyKGlkOiBzdHJpbmcpIHtcclxuICBnZXREQigpLnByZXBhcmUoYERFTEVURSBGUk9NIG1lbWJlcnMgV0hFUkUgaWQgPSA/YCkucnVuKGlkKTtcclxuICByZXR1cm4geyBvazogdHJ1ZSB9O1xyXG59XHJcblxyXG4vKiogR09WRVJOQU5DRSAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbGlzdEdvdmVybmFuY2UoKSB7XHJcbiAgY29uc3Qgcm93cyA9IGdldERCKCkucHJlcGFyZShgU0VMRUNUICogRlJPTSBnb3Zlcm5hbmNlIE9SREVSIEJZIGRhdGV0aW1lKGNyZWF0ZWRBdCkgREVTQ2ApLmFsbCgpO1xyXG4gIHJldHVybiByb3dzLm1hcCgocjogYW55KSA9PiB7XHJcbiAgICBjb25zdCBtZXRhID0gci5tZXRhID8gSlNPTi5wYXJzZShyLm1ldGEpIDoge307XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogci5pZCwgdGl0bGU6IHIudGl0bGUsIHR5cGU6IHIudHlwZSBhcyBHb3Zlcm5hbmNlVHlwZSxcclxuICAgICAgc3RhdHVzOiAoci5zdGF0dXMgPz8gXCJkcmFmdFwiKSBhcyBHb3Zlcm5hbmNlU3RhdHVzLFxyXG4gICAgICBlbnRpdHlJZDogci5lbnRpdHlJZCA/PyBudWxsLCBjcmVhdGVkQXQ6IHIuY3JlYXRlZEF0LCB1cGRhdGVkQXQ6IHIudXBkYXRlZEF0LFxyXG4gICAgICBub3Rlczogci5kZXNjcmlwdGlvbiA/PyBudWxsLCBkZWNpc2lvbkRhdGU6IG1ldGEuZGVjaXNpb25EYXRlID8/IG51bGwsIGF0dGFjaG1lbnRzOiBtZXRhLmF0dGFjaG1lbnRzID8/IFtdLFxyXG4gICAgfTtcclxuICB9KSBhcyBHb3Zlcm5hbmNlSXRlbVtdO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRHb3Zlcm5hbmNlKGlucHV0OiB7XHJcbiAgdGl0bGU6IHN0cmluZzsgdHlwZTogR292ZXJuYW5jZVR5cGU7IHN0YXR1cz86IEdvdmVybmFuY2VTdGF0dXM7IGVudGl0eUlkPzogc3RyaW5nIHwgbnVsbDtcclxuICBub3Rlcz86IHN0cmluZyB8IG51bGw7IGRlY2lzaW9uRGF0ZT86IHN0cmluZyB8IG51bGw7IGF0dGFjaG1lbnRzPzogc3RyaW5nW107XHJcbn0pOiBHb3Zlcm5hbmNlSXRlbSB7XHJcbiAgY29uc3QgZGIgPSBnZXREQigpOyBjb25zdCBpZCA9IHVpZCgpOyBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgY29uc3QgbWV0YSA9IEpTT04uc3RyaW5naWZ5KHsgZGVjaXNpb25EYXRlOiBpbnB1dC5kZWNpc2lvbkRhdGUgPz8gbnVsbCwgYXR0YWNobWVudHM6IGlucHV0LmF0dGFjaG1lbnRzID8/IFtdIH0pO1xyXG4gIGRiLnByZXBhcmUoYFxyXG4gICAgSU5TRVJUIElOVE8gZ292ZXJuYW5jZSAoaWQsIHR5cGUsIHRpdGxlLCBkZXNjcmlwdGlvbiwgZW50aXR5SWQsIHN0YXR1cywgbWV0YSwgY3JlYXRlZEF0LCB1cGRhdGVkQXQpXHJcbiAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8pXHJcbiAgYCkucnVuKGlkLCBpbnB1dC50eXBlLCBpbnB1dC50aXRsZSwgaW5wdXQubm90ZXMgPz8gbnVsbCwgaW5wdXQuZW50aXR5SWQgPz8gbnVsbCwgaW5wdXQuc3RhdHVzID8/IFwiZHJhZnRcIiwgbWV0YSwgbm93LCBub3cpO1xyXG4gIHJldHVybiB7IGlkLCB0aXRsZTogaW5wdXQudGl0bGUsIHR5cGU6IGlucHV0LnR5cGUsIHN0YXR1czogaW5wdXQuc3RhdHVzID8/IFwiZHJhZnRcIiwgZW50aXR5SWQ6IGlucHV0LmVudGl0eUlkID8/IG51bGwsIGNyZWF0ZWRBdDogbm93LCB1cGRhdGVkQXQ6IG5vdywgbm90ZXM6IGlucHV0Lm5vdGVzID8/IG51bGwsIGRlY2lzaW9uRGF0ZTogaW5wdXQuZGVjaXNpb25EYXRlID8/IG51bGwsIGF0dGFjaG1lbnRzOiBpbnB1dC5hdHRhY2htZW50cyA/PyBbXSB9O1xyXG59XHJcblxyXG4vKiogRVZFTlRTICovXHJcbmV4cG9ydCBmdW5jdGlvbiBsaXN0RXZlbnRzKCkge1xyXG4gIC8vINiq2KzYp9mH2YQg2LnZhdmI2K8gZGF0ZSDYqtmF2KfZhdmL2KdcclxuICBjb25zdCByb3dzID0gZ2V0REIoKVxyXG4gICAgLnByZXBhcmUoYFxyXG4gICAgICBTRUxFQ1QgaWQsIHRpdGxlLCBzdGF0dXMsIGVudGl0eUlkXHJcbiAgICAgIEZST00gZXZlbnRzXHJcbiAgICAgIE9SREVSIEJZIHJvd2lkIERFU0NcclxuICAgIGApXHJcbiAgICAuYWxsKCkgYXMgYW55W107XHJcblxyXG4gIHJldHVybiByb3dzLm1hcCgocikgPT4gKHtcclxuICAgIGlkOiBTdHJpbmcoci5pZCksXHJcbiAgICB0aXRsZTogU3RyaW5nKHIudGl0bGUgfHwgXCJcIiksXHJcbiAgICBzdGF0dXM6IChyLnN0YXR1cyA/PyBcImRyYWZ0XCIpIGFzIEV2ZW50SXRlbVtcInN0YXR1c1wiXSxcclxuICAgIGVudGl0eUlkOiByLmVudGl0eUlkID8gU3RyaW5nKHIuZW50aXR5SWQpIDogbnVsbCxcclxuICB9KSkgYXMgRXZlbnRJdGVtW107XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50KGlkOiBzdHJpbmcpIHtcclxuICBjb25zdCByb3c6IGFueSA9IGdldERCKClcclxuICAgIC5wcmVwYXJlKGBTRUxFQ1QgaWQsIHRpdGxlLCBzdGF0dXMsIGVudGl0eUlkIEZST00gZXZlbnRzIFdIRVJFIGlkID0gP2ApXHJcbiAgICAuZ2V0KGlkKTtcclxuICBpZiAoIXJvdykgcmV0dXJuIG51bGw7XHJcbiAgcmV0dXJuIHtcclxuICAgIGlkOiBTdHJpbmcocm93LmlkKSxcclxuICAgIHRpdGxlOiBTdHJpbmcocm93LnRpdGxlIHx8IFwiXCIpLFxyXG4gICAgc3RhdHVzOiAocm93LnN0YXR1cyA/PyBcImRyYWZ0XCIpIGFzIEV2ZW50SXRlbVtcInN0YXR1c1wiXSxcclxuICAgIGVudGl0eUlkOiByb3cuZW50aXR5SWQgPyBTdHJpbmcocm93LmVudGl0eUlkKSA6IG51bGwsXHJcbiAgfSBhcyBFdmVudEl0ZW07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudChkYXRhOiBPbWl0PEV2ZW50SXRlbSwgXCJpZFwiPikge1xyXG4gIGNvbnN0IGlkID0gdWlkKCk7XHJcbiAgZ2V0REIoKVxyXG4gICAgLnByZXBhcmUoYElOU0VSVCBJTlRPIGV2ZW50cyAoaWQsIHRpdGxlLCBzdGF0dXMsIGVudGl0eUlkKSBWQUxVRVMgKD8sID8sID8sID8pYClcclxuICAgIC5ydW4oXHJcbiAgICAgIGlkLFxyXG4gICAgICBTdHJpbmcoZGF0YS50aXRsZSB8fCBcIlwiKSxcclxuICAgICAgU3RyaW5nKGRhdGEuc3RhdHVzIHx8IFwiZHJhZnRcIiksXHJcbiAgICAgIGRhdGEuZW50aXR5SWQgPyBTdHJpbmcoZGF0YS5lbnRpdHlJZCkgOiBudWxsXHJcbiAgICApO1xyXG4gIHJldHVybiBnZXRFdmVudChpZCkhO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRXZlbnQoaWQ6IHN0cmluZywgcGF0Y2g6IFBhcnRpYWw8T21pdDxFdmVudEl0ZW0sIFwiaWRcIj4+KSB7XHJcbiAgY29uc3QgZGIgPSBnZXREQigpO1xyXG4gIGNvbnN0IGN1cjogYW55ID0gZGIucHJlcGFyZShgU0VMRUNUICogRlJPTSBldmVudHMgV0hFUkUgaWQ9P2ApLmdldChpZCk7XHJcbiAgaWYgKCFjdXIpIHJldHVybiBudWxsO1xyXG5cclxuICBjb25zdCBuZXh0ID0ge1xyXG4gICAgdGl0bGU6IHR5cGVvZiBwYXRjaC50aXRsZSA9PT0gXCJzdHJpbmdcIiA/IHBhdGNoLnRpdGxlIDogY3VyLnRpdGxlLFxyXG4gICAgc3RhdHVzOiB0eXBlb2YgcGF0Y2guc3RhdHVzID09PSBcInN0cmluZ1wiID8gcGF0Y2guc3RhdHVzIDogY3VyLnN0YXR1cyxcclxuICAgIGVudGl0eUlkOiBwYXRjaC5oYXNPd25Qcm9wZXJ0eShcImVudGl0eUlkXCIpXHJcbiAgICAgID8gKHBhdGNoLmVudGl0eUlkID8gU3RyaW5nKHBhdGNoLmVudGl0eUlkKSA6IG51bGwpXHJcbiAgICAgIDogY3VyLmVudGl0eUlkLFxyXG4gIH07XHJcblxyXG4gIGRiLnByZXBhcmUoYFVQREFURSBldmVudHMgU0VUIHRpdGxlPT8sIHN0YXR1cz0/LCBlbnRpdHlJZD0/IFdIRVJFIGlkPT9gKVxyXG4gICAgLnJ1bihTdHJpbmcobmV4dC50aXRsZSB8fCBcIlwiKSwgU3RyaW5nKG5leHQuc3RhdHVzIHx8IFwiZHJhZnRcIiksIG5leHQuZW50aXR5SWQsIGlkKTtcclxuXHJcbiAgcmV0dXJuIGdldEV2ZW50KGlkKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUV2ZW50KGlkOiBzdHJpbmcpIHtcclxuICBnZXREQigpLnByZXBhcmUoYERFTEVURSBGUk9NIGV2ZW50cyBXSEVSRSBpZD0/YCkucnVuKGlkKTtcclxuICByZXR1cm4geyBvazogdHJ1ZSB9O1xyXG59XHJcblxyXG4vKiogSVNPICovXHJcbmV4cG9ydCBmdW5jdGlvbiBsaXN0SVNPKCkgeyByZXR1cm4gZ2V0REIoKS5wcmVwYXJlKGBTRUxFQ1QgKiBGUk9NIGlzb2ApLmFsbCgpIGFzIElTT0Zvcm1bXTsgfVxyXG5leHBvcnQgZnVuY3Rpb24gYWRkSVNPKGRhdGE6IE9taXQ8SVNPRm9ybSwgXCJpZFwiPikge1xyXG4gIGNvbnN0IGlkID0gdWlkKCk7XHJcbiAgZ2V0REIoKS5wcmVwYXJlKGBJTlNFUlQgSU5UTyBpc28gKGlkLCB0aXRsZSwgY29kZSwgc3RhdHVzLCBvd25lckVudGl0eUlkKSBWQUxVRVMgKD8sID8sID8sID8sID8pYCkucnVuKGlkLCBkYXRhLnRpdGxlLCBkYXRhLmNvZGUgPz8gbnVsbCwgZGF0YS5zdGF0dXMsIGRhdGEub3duZXJFbnRpdHlJZCA/PyBudWxsKTtcclxuICByZXR1cm4geyBpZCwgLi4uZGF0YSB9IGFzIElTT0Zvcm07XHJcbn1cclxuXHJcbi8qKiBSRVNFVCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRBbGwoKSB7XHJcbiAgY29uc3QgZGIgPSBnZXREQigpO1xyXG4gIGRiLmV4ZWMoYERFTEVURSBGUk9NIHVzZXJzOyBERUxFVEUgRlJPTSBlbnRpdGllczsgREVMRVRFIEZST00gbWVtYmVyczsgREVMRVRFIEZST00gZXZlbnRzOyBERUxFVEUgRlJPTSBpc287IERFTEVURSBGUk9NIGdvdmVybmFuY2U7YCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBkYXRhU3RvcmUgPSB7XHJcbiAgZ2V0VXNlcnMsIHJlZ2lzdGVyLCBsb2dpbixcclxuICBsaXN0RW50aXRpZXMsIGdldEVudGl0eSwgYWRkRW50aXR5LCB1cGRhdGVFbnRpdHksIHJlbW92ZUVudGl0eSxcclxuICBsaXN0TWVtYmVycywgYWRkTWVtYmVyLCB1cGRhdGVNZW1iZXIsIGRlbGV0ZU1lbWJlcixcclxuICBsaXN0R292ZXJuYW5jZSwgYWRkR292ZXJuYW5jZSxcclxuICBsaXN0RXZlbnRzLCBnZXRFdmVudCwgYWRkRXZlbnQsIHVwZGF0ZUV2ZW50LCByZW1vdmVFdmVudCxcclxuICBsaXN0SVNPLCBhZGRJU08sXHJcbiAgcmVzZXRBbGwsXHJcbn07XHJcbiJdLCJuYW1lcyI6WyJnZXREQiIsInVpZCIsImVuc3VyZVRhYmxlcyIsIkoiLCJ2IiwiSlNPTiIsInN0cmluZ2lmeSIsIlAiLCJzIiwicGFyc2UiLCJnZXRVc2VycyIsInJvd3MiLCJwcmVwYXJlIiwiYWxsIiwibWFwIiwiciIsImludGVyZXN0cyIsInBlcm1pc3Npb25zIiwicmVnaXN0ZXIiLCJ1IiwiZGIiLCJleGlzdHMiLCJnZXQiLCJlbWFpbCIsImlkIiwicnVuIiwibmFtZSIsInBhc3N3b3JkIiwicm9sZSIsImVudGl0eUlkIiwibG9naW4iLCJnZXRFbnRpdHkiLCJyb3ciLCJkb2N1bWVudHMiLCJsaXN0RW50aXRpZXMiLCJhZGRFbnRpdHkiLCJkYXRhIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidHlwZSIsImNvbnRhY3RFbWFpbCIsInBob25lIiwibG9jYXRpb24iLCJjcmVhdGVkQnkiLCJ1cGRhdGVFbnRpdHkiLCJwYXRjaCIsImFmdGVyIiwicmVtb3ZlRW50aXR5Iiwib2siLCJsaXN0TWVtYmVycyIsImFkZE1lbWJlciIsImpvaW5lZEF0Iiwicm9sZUluRW50aXR5IiwidXBkYXRlTWVtYmVyIiwiZGVsZXRlTWVtYmVyIiwibGlzdEdvdmVybmFuY2UiLCJtZXRhIiwidGl0bGUiLCJzdGF0dXMiLCJ1cGRhdGVkQXQiLCJub3RlcyIsImRlc2NyaXB0aW9uIiwiZGVjaXNpb25EYXRlIiwiYXR0YWNobWVudHMiLCJhZGRHb3Zlcm5hbmNlIiwiaW5wdXQiLCJub3ciLCJsaXN0RXZlbnRzIiwiU3RyaW5nIiwiZ2V0RXZlbnQiLCJhZGRFdmVudCIsInVwZGF0ZUV2ZW50IiwiY3VyIiwibmV4dCIsImhhc093blByb3BlcnR5IiwicmVtb3ZlRXZlbnQiLCJsaXN0SVNPIiwiYWRkSVNPIiwiY29kZSIsIm93bmVyRW50aXR5SWQiLCJyZXNldEFsbCIsImV4ZWMiLCJkYXRhU3RvcmUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/server/data-store-server.ts\n");

/***/ }),

/***/ "(rsc)/./lib/server/sqlite.ts":
/*!******************************!*\
  !*** ./lib/server/sqlite.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureTables: () => (/* binding */ ensureTables),\n/* harmony export */   getDB: () => (/* binding */ getDB),\n/* harmony export */   uid: () => (/* binding */ uid)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nlet db = null;\nfunction init(d) {\n    d.exec(`\n    PRAGMA foreign_keys = ON;\n\n    CREATE TABLE IF NOT EXISTS users (\n      id TEXT PRIMARY KEY,\n      name TEXT NOT NULL,\n      email TEXT NOT NULL UNIQUE,\n      password TEXT,\n      role TEXT NOT NULL,\n      interests TEXT,\n      entityId TEXT,\n      permissions TEXT\n    );\n\n    CREATE TABLE IF NOT EXISTS governance (\n      id TEXT PRIMARY KEY,\n      type TEXT NOT NULL,\n      title TEXT,\n      description TEXT,\n      entityId TEXT,\n      status TEXT,\n      meta TEXT,\n      createdAt TEXT NOT NULL,\n      updatedAt TEXT NOT NULL\n    );\n    CREATE INDEX IF NOT EXISTS idx_gov_entity ON governance(entityId);\n    CREATE INDEX IF NOT EXISTS idx_gov_status ON governance(status);\n\n    CREATE TABLE IF NOT EXISTS entities (\n      id TEXT PRIMARY KEY,\n      name TEXT NOT NULL,\n      type TEXT,\n      contactEmail TEXT,\n      phone TEXT,\n      location TEXT,\n      documents TEXT,\n      createdAt TEXT NOT NULL,\n      createdBy TEXT\n    );\n\n    CREATE TABLE IF NOT EXISTS members (\n      id TEXT PRIMARY KEY,\n      name TEXT NOT NULL,\n      email TEXT,\n      phone TEXT,\n      entityId TEXT,\n      roleInEntity TEXT,\n      joinedAt TEXT NOT NULL\n    );\n\n    CREATE TABLE IF NOT EXISTS events (\n      id TEXT PRIMARY KEY,\n      title TEXT NOT NULL,\n      date TEXT,\n      status TEXT NOT NULL,\n      entityId TEXT\n    );\n\n    CREATE TABLE IF NOT EXISTS iso (\n      id TEXT PRIMARY KEY,\n      title TEXT NOT NULL,\n      code TEXT,\n      status TEXT NOT NULL,\n      ownerEntityId TEXT\n    );\n  `);\n    // ترقية المخطط لو أعمدة ناقصة\n    try {\n        const memberCols = d.prepare(`PRAGMA table_info(members)`).all();\n        if (!memberCols.some((c)=>String(c?.name) === \"roleInEntity\")) {\n            d.prepare(`ALTER TABLE members ADD COLUMN roleInEntity TEXT`).run();\n        }\n    } catch  {}\n    try {\n        const entCols = d.prepare(`PRAGMA table_info(entities)`).all();\n        if (!entCols.some((c)=>String(c?.name) === \"createdBy\")) {\n            d.prepare(`ALTER TABLE entities ADD COLUMN createdBy TEXT`).run();\n            d.prepare(`CREATE INDEX IF NOT EXISTS idx_entities_createdBy ON entities(createdBy)`).run();\n        }\n    } catch  {}\n}\nfunction getDB() {\n    if (db) return db;\n    const dataDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"data\");\n    if (!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(dataDir)) fs__WEBPACK_IMPORTED_MODULE_1___default().mkdirSync(dataDir, {\n        recursive: true\n    });\n    const file = path__WEBPACK_IMPORTED_MODULE_2___default().join(dataDir, \"app.db\");\n    db = new (better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default())(file);\n    db.pragma(\"journal_mode = WAL\");\n    init(db);\n    return db;\n}\nfunction ensureTables() {\n    getDB();\n}\nfunction uid() {\n    try {\n        return (0,crypto__WEBPACK_IMPORTED_MODULE_3__.randomUUID)();\n    } catch  {\n        return \"id_\" + Math.random().toString(36).slice(2) + Date.now().toString(36);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2VydmVyL3NxbGl0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzQztBQUNsQjtBQUNJO0FBQ1k7QUFFcEMsSUFBSUksS0FBK0I7QUFFbkMsU0FBU0MsS0FBS0MsQ0FBb0I7SUFDaENBLEVBQUVDLElBQUksQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQWlFUixDQUFDO0lBRUQsOEJBQThCO0lBQzlCLElBQUk7UUFDRixNQUFNQyxhQUFhRixFQUFFRyxPQUFPLENBQUMsQ0FBQywwQkFBMEIsQ0FBQyxFQUFFQyxHQUFHO1FBQzlELElBQUksQ0FBQ0YsV0FBV0csSUFBSSxDQUFDQyxDQUFBQSxJQUFLQyxPQUFPRCxHQUFHRSxVQUFVLGlCQUFpQjtZQUM3RFIsRUFBRUcsT0FBTyxDQUFDLENBQUMsZ0RBQWdELENBQUMsRUFBRU0sR0FBRztRQUNuRTtJQUNGLEVBQUUsT0FBTSxDQUFDO0lBRVQsSUFBSTtRQUNGLE1BQU1DLFVBQVVWLEVBQUVHLE9BQU8sQ0FBQyxDQUFDLDJCQUEyQixDQUFDLEVBQUVDLEdBQUc7UUFDNUQsSUFBSSxDQUFDTSxRQUFRTCxJQUFJLENBQUNDLENBQUFBLElBQUtDLE9BQU9ELEdBQUdFLFVBQVUsY0FBYztZQUN2RFIsRUFBRUcsT0FBTyxDQUFDLENBQUMsOENBQThDLENBQUMsRUFBRU0sR0FBRztZQUMvRFQsRUFBRUcsT0FBTyxDQUFDLENBQUMsd0VBQXdFLENBQUMsRUFBRU0sR0FBRztRQUMzRjtJQUNGLEVBQUUsT0FBTSxDQUFDO0FBQ1g7QUFFTyxTQUFTRTtJQUNkLElBQUliLElBQUksT0FBT0E7SUFDZixNQUFNYyxVQUFVaEIsZ0RBQVMsQ0FBQ2tCLFFBQVFDLEdBQUcsSUFBSTtJQUN6QyxJQUFJLENBQUNwQixvREFBYSxDQUFDaUIsVUFBVWpCLG1EQUFZLENBQUNpQixTQUFTO1FBQUVNLFdBQVc7SUFBSztJQUNyRSxNQUFNQyxPQUFPdkIsZ0RBQVMsQ0FBQ2dCLFNBQVM7SUFDaENkLEtBQUssSUFBSUosdURBQVFBLENBQUN5QjtJQUNsQnJCLEdBQUdzQixNQUFNLENBQUM7SUFDVnJCLEtBQUtEO0lBQ0wsT0FBT0E7QUFDVDtBQUVPLFNBQVN1QjtJQUFpQlY7QUFBUztBQUVuQyxTQUFTVztJQUNkLElBQUk7UUFBRSxPQUFPekIsa0RBQVVBO0lBQUksRUFDM0IsT0FBTTtRQUFFLE9BQU8sUUFBUTBCLEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLEtBQUssQ0FBQyxLQUFLQyxLQUFLQyxHQUFHLEdBQUdILFFBQVEsQ0FBQztJQUFLO0FBQ3hGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFJhbW1haFxcT25lRHJpdmVcXERlc2t0b3BcXFNQQUNFXFx5b3V0aC1wbGF0Zm9ybVxcbGliXFxzZXJ2ZXJcXHNxbGl0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGF0YWJhc2UgZnJvbSBcImJldHRlci1zcWxpdGUzXCI7XHJcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gXCJjcnlwdG9cIjtcclxuXHJcbmxldCBkYjogRGF0YWJhc2UuRGF0YWJhc2UgfCBudWxsID0gbnVsbDtcclxuXHJcbmZ1bmN0aW9uIGluaXQoZDogRGF0YWJhc2UuRGF0YWJhc2UpIHtcclxuICBkLmV4ZWMoYFxyXG4gICAgUFJBR01BIGZvcmVpZ25fa2V5cyA9IE9OO1xyXG5cclxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHVzZXJzIChcclxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcclxuICAgICAgbmFtZSBURVhUIE5PVCBOVUxMLFxyXG4gICAgICBlbWFpbCBURVhUIE5PVCBOVUxMIFVOSVFVRSxcclxuICAgICAgcGFzc3dvcmQgVEVYVCxcclxuICAgICAgcm9sZSBURVhUIE5PVCBOVUxMLFxyXG4gICAgICBpbnRlcmVzdHMgVEVYVCxcclxuICAgICAgZW50aXR5SWQgVEVYVCxcclxuICAgICAgcGVybWlzc2lvbnMgVEVYVFxyXG4gICAgKTtcclxuXHJcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBnb3Zlcm5hbmNlIChcclxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcclxuICAgICAgdHlwZSBURVhUIE5PVCBOVUxMLFxyXG4gICAgICB0aXRsZSBURVhULFxyXG4gICAgICBkZXNjcmlwdGlvbiBURVhULFxyXG4gICAgICBlbnRpdHlJZCBURVhULFxyXG4gICAgICBzdGF0dXMgVEVYVCxcclxuICAgICAgbWV0YSBURVhULFxyXG4gICAgICBjcmVhdGVkQXQgVEVYVCBOT1QgTlVMTCxcclxuICAgICAgdXBkYXRlZEF0IFRFWFQgTk9UIE5VTExcclxuICAgICk7XHJcbiAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfZ292X2VudGl0eSBPTiBnb3Zlcm5hbmNlKGVudGl0eUlkKTtcclxuICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9nb3Zfc3RhdHVzIE9OIGdvdmVybmFuY2Uoc3RhdHVzKTtcclxuXHJcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBlbnRpdGllcyAoXHJcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXHJcbiAgICAgIG5hbWUgVEVYVCBOT1QgTlVMTCxcclxuICAgICAgdHlwZSBURVhULFxyXG4gICAgICBjb250YWN0RW1haWwgVEVYVCxcclxuICAgICAgcGhvbmUgVEVYVCxcclxuICAgICAgbG9jYXRpb24gVEVYVCxcclxuICAgICAgZG9jdW1lbnRzIFRFWFQsXHJcbiAgICAgIGNyZWF0ZWRBdCBURVhUIE5PVCBOVUxMLFxyXG4gICAgICBjcmVhdGVkQnkgVEVYVFxyXG4gICAgKTtcclxuXHJcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBtZW1iZXJzIChcclxuICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcclxuICAgICAgbmFtZSBURVhUIE5PVCBOVUxMLFxyXG4gICAgICBlbWFpbCBURVhULFxyXG4gICAgICBwaG9uZSBURVhULFxyXG4gICAgICBlbnRpdHlJZCBURVhULFxyXG4gICAgICByb2xlSW5FbnRpdHkgVEVYVCxcclxuICAgICAgam9pbmVkQXQgVEVYVCBOT1QgTlVMTFxyXG4gICAgKTtcclxuXHJcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBldmVudHMgKFxyXG4gICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxyXG4gICAgICB0aXRsZSBURVhUIE5PVCBOVUxMLFxyXG4gICAgICBkYXRlIFRFWFQsXHJcbiAgICAgIHN0YXR1cyBURVhUIE5PVCBOVUxMLFxyXG4gICAgICBlbnRpdHlJZCBURVhUXHJcbiAgICApO1xyXG5cclxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGlzbyAoXHJcbiAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXHJcbiAgICAgIHRpdGxlIFRFWFQgTk9UIE5VTEwsXHJcbiAgICAgIGNvZGUgVEVYVCxcclxuICAgICAgc3RhdHVzIFRFWFQgTk9UIE5VTEwsXHJcbiAgICAgIG93bmVyRW50aXR5SWQgVEVYVFxyXG4gICAgKTtcclxuICBgKTtcclxuXHJcbiAgLy8g2KrYsdmC2YrYqSDYp9mE2YXYrti32Lcg2YTZiCDYo9i52YXYr9ipINmG2KfZgti12KlcclxuICB0cnkge1xyXG4gICAgY29uc3QgbWVtYmVyQ29scyA9IGQucHJlcGFyZShgUFJBR01BIHRhYmxlX2luZm8obWVtYmVycylgKS5hbGwoKSBhcyBhbnlbXTtcclxuICAgIGlmICghbWVtYmVyQ29scy5zb21lKGMgPT4gU3RyaW5nKGM/Lm5hbWUpID09PSBcInJvbGVJbkVudGl0eVwiKSkge1xyXG4gICAgICBkLnByZXBhcmUoYEFMVEVSIFRBQkxFIG1lbWJlcnMgQUREIENPTFVNTiByb2xlSW5FbnRpdHkgVEVYVGApLnJ1bigpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2gge31cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGVudENvbHMgPSBkLnByZXBhcmUoYFBSQUdNQSB0YWJsZV9pbmZvKGVudGl0aWVzKWApLmFsbCgpIGFzIGFueVtdO1xyXG4gICAgaWYgKCFlbnRDb2xzLnNvbWUoYyA9PiBTdHJpbmcoYz8ubmFtZSkgPT09IFwiY3JlYXRlZEJ5XCIpKSB7XHJcbiAgICAgIGQucHJlcGFyZShgQUxURVIgVEFCTEUgZW50aXRpZXMgQUREIENPTFVNTiBjcmVhdGVkQnkgVEVYVGApLnJ1bigpO1xyXG4gICAgICBkLnByZXBhcmUoYENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9lbnRpdGllc19jcmVhdGVkQnkgT04gZW50aXRpZXMoY3JlYXRlZEJ5KWApLnJ1bigpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2gge31cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERCKCkge1xyXG4gIGlmIChkYikgcmV0dXJuIGRiO1xyXG4gIGNvbnN0IGRhdGFEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJkYXRhXCIpO1xyXG4gIGlmICghZnMuZXhpc3RzU3luYyhkYXRhRGlyKSkgZnMubWtkaXJTeW5jKGRhdGFEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gIGNvbnN0IGZpbGUgPSBwYXRoLmpvaW4oZGF0YURpciwgXCJhcHAuZGJcIik7XHJcbiAgZGIgPSBuZXcgRGF0YWJhc2UoZmlsZSk7XHJcbiAgZGIucHJhZ21hKFwiam91cm5hbF9tb2RlID0gV0FMXCIpO1xyXG4gIGluaXQoZGIpO1xyXG4gIHJldHVybiBkYjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVRhYmxlcygpIHsgZ2V0REIoKTsgfVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVpZCgpIHtcclxuICB0cnkgeyByZXR1cm4gcmFuZG9tVVVJRCgpOyB9XHJcbiAgY2F0Y2ggeyByZXR1cm4gXCJpZF9cIiArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpICsgRGF0ZS5ub3coKS50b1N0cmluZygzNik7IH1cclxufVxyXG4iXSwibmFtZXMiOlsiRGF0YWJhc2UiLCJmcyIsInBhdGgiLCJyYW5kb21VVUlEIiwiZGIiLCJpbml0IiwiZCIsImV4ZWMiLCJtZW1iZXJDb2xzIiwicHJlcGFyZSIsImFsbCIsInNvbWUiLCJjIiwiU3RyaW5nIiwibmFtZSIsInJ1biIsImVudENvbHMiLCJnZXREQiIsImRhdGFEaXIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJmaWxlIiwicHJhZ21hIiwiZW5zdXJlVGFibGVzIiwidWlkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic2xpY2UiLCJEYXRlIiwibm93Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/server/sqlite.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fiso%2Froute&page=%2Fapi%2Fiso%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fiso%2Froute.ts&appDir=C%3A%5CUsers%5CRammah%5COneDrive%5CDesktop%5CSPACE%5Cyouth-platform%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRammah%5COneDrive%5CDesktop%5CSPACE%5Cyouth-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fiso%2Froute&page=%2Fapi%2Fiso%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fiso%2Froute.ts&appDir=C%3A%5CUsers%5CRammah%5COneDrive%5CDesktop%5CSPACE%5Cyouth-platform%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRammah%5COneDrive%5CDesktop%5CSPACE%5Cyouth-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Rammah_OneDrive_Desktop_SPACE_youth_platform_app_api_iso_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/iso/route.ts */ \"(rsc)/./app/api/iso/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/iso/route\",\n        pathname: \"/api/iso\",\n        filename: \"route\",\n        bundlePath: \"app/api/iso/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Rammah\\\\OneDrive\\\\Desktop\\\\SPACE\\\\youth-platform\\\\app\\\\api\\\\iso\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Rammah_OneDrive_Desktop_SPACE_youth_platform_app_api_iso_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZpc28lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmlzbyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmlzbyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNSYW1tYWglNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNTUEFDRSU1Q3lvdXRoLXBsYXRmb3JtJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNSYW1tYWglNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNTUEFDRSU1Q3lvdXRoLXBsYXRmb3JtJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNvQztBQUNqSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcUmFtbWFoXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcU1BBQ0VcXFxceW91dGgtcGxhdGZvcm1cXFxcYXBwXFxcXGFwaVxcXFxpc29cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2lzby9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2lzb1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvaXNvL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcUmFtbWFoXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcU1BBQ0VcXFxceW91dGgtcGxhdGZvcm1cXFxcYXBwXFxcXGFwaVxcXFxpc29cXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fiso%2Froute&page=%2Fapi%2Fiso%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fiso%2Froute.ts&appDir=C%3A%5CUsers%5CRammah%5COneDrive%5CDesktop%5CSPACE%5Cyouth-platform%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRammah%5COneDrive%5CDesktop%5CSPACE%5Cyouth-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("better-sqlite3");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fiso%2Froute&page=%2Fapi%2Fiso%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fiso%2Froute.ts&appDir=C%3A%5CUsers%5CRammah%5COneDrive%5CDesktop%5CSPACE%5Cyouth-platform%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRammah%5COneDrive%5CDesktop%5CSPACE%5Cyouth-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();